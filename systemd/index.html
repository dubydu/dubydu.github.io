<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><title>Setting Up systemd on Linux │ Doo Bui</title><link rel="stylesheet" href="/css/oasis.css"><meta property="og:title" content="Setting Up systemd on Linux │ Doo Bui"><meta property="og:description" content="Description of the page"><meta property="og:url" content="https://dubydu.github.io/systemd/"><meta property="og:type" content="article"><meta property="og:site_name" content="Doo Bui"><meta property="og:image:width" content="1920"><meta property="og:image:height" content="1080"><meta name="generator" content="Hexo 7.0.0"><link rel="alternate" href="/atom.xml" title="Doo Bui" type="application/atom+xml">
</head><body><div id="content"><h1 id="title">Setting Up systemd on Linux</h1><div id="menu-outer"><nav id="menu-inner"><a id="menu-back" href="javascript:history.back()">Back</a><time datetime="2025-03-06T15:55:37.000Z">2025-03-06</time></nav></div><div id="content-outer"><div id="content-inner"><article id="post"><h3 id="Step-1-Find-the-Full-Path-of-Python"><a href="#Step-1-Find-the-Full-Path-of-Python" class="headerlink" title="Step 1: Find the Full Path of Python"></a>Step 1: Find the Full Path of Python</h3><p><code>which python3</code></p>
<p>Example output: <code>/usr/bin/python3</code> </br></p>
<p>You will need this path later.</p>
<h3 id="Step-2-Create-a-Systemd-Service-File"><a href="#Step-2-Create-a-Systemd-Service-File" class="headerlink" title="Step 2: Create a Systemd Service File"></a>Step 2: Create a Systemd Service File</h3><h4 id="1-Open-a-new-service-file-using-nano-or-any-text-editor"><a href="#1-Open-a-new-service-file-using-nano-or-any-text-editor" class="headerlink" title="1. Open a new service file using nano (or any text editor):"></a>1. Open a new service file using nano (or any text editor):</h4><p><code>sudo nano /etc/systemd/system/my_python_app.service</code></p>
<h4 id="2-Add-the-following-content-to-the-file-replacing-placeholders-with-actual-values"><a href="#2-Add-the-following-content-to-the-file-replacing-placeholders-with-actual-values" class="headerlink" title="2. Add the following content to the file, replacing placeholders with actual values:"></a>2. Add the following content to the file, replacing placeholders with actual values:</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description=My Python Application</span><br><span class="line">After=network.target</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">ExecStart=/usr/bin/python3 /path/to/your_script.py</span><br><span class="line">WorkingDirectory=/path/to</span><br><span class="line">Restart=always</span><br><span class="line">User=ubuntu</span><br><span class="line">Environment=&quot;PYTHONUNBUFFERED=1&quot;</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure>
<p>If you’re using a virtual environment, you need to activate it inside the service: <br/><br>For example:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description=OmniParser Manager</span><br><span class="line">After=network.target</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">WorkingDirectory=/home/ubuntu/my_app</span><br><span class="line">ExecStart=/home/ubuntu/my_app/.venv/bin/python /home/ubuntu/my_app/app.py</span><br><span class="line">Restart=always</span><br><span class="line">User=ubuntu</span><br><span class="line">Environment=&quot;PYTHONUNBUFFERED=1&quot;</span><br><span class="line">StandardOutput=append:/home/ubuntu/my_app/logs.txt</span><br><span class="line">StandardError=append:/home/ubuntu/my_app/errors.txt</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure>

<p><em>Explanation of Each Section:</em></p>
<p><strong>Unit</strong>  </br><br>Description: A short description of the service. </br><br>After=network.target: Ensures the service starts after the network is available. </br></p>
<p><strong>Service</strong>  </br><br>ExecStart: The full path to Python and your script.</br><br>WorkingDirectory: The directory where the script is located.</br><br>Restart=always: Automatically restarts the service if it crashes.</br><br>User=ubuntu: The user under which the service runs (change this if needed).</br><br>Environment=”PYTHONUNBUFFERED=1”: Ensures real-time logging (optional).</br></p>
<p><strong>Install</strong>  </br><br>WantedBy=multi-user.target: Ensures the service starts on boot.</br></p>
<h4 id="3-Save-and-exit-Ctrl-X-then-Y-then-Enter"><a href="#3-Save-and-exit-Ctrl-X-then-Y-then-Enter" class="headerlink" title="3. Save and exit (Ctrl + X, then Y, then Enter)."></a>3. Save and exit (Ctrl + X, then Y, then Enter).</h4><h3 id="Step-3-Reload-systemd-to-Apply-Changes"><a href="#Step-3-Reload-systemd-to-Apply-Changes" class="headerlink" title="Step 3: Reload systemd to Apply Changes"></a>Step 3: Reload systemd to Apply Changes</h3><p><code>sudo systemctl daemon-reload</code></p>
<h3 id="Step-4-Enable-the-Service-So-It-Starts-on-Boot"><a href="#Step-4-Enable-the-Service-So-It-Starts-on-Boot" class="headerlink" title="Step 4: Enable the Service (So It Starts on Boot)"></a>Step 4: Enable the Service (So It Starts on Boot)</h3><p><code>sudo systemctl enable my_python_app</code></p>
<h3 id="Step-5-Start-the-Service"><a href="#Step-5-Start-the-Service" class="headerlink" title="Step 5: Start the Service"></a>Step 5: Start the Service</h3><p><code>sudo systemctl start my_python_app</code></p>
<h3 id="Step-6-Check-the-Status-of-the-Service"><a href="#Step-6-Check-the-Status-of-the-Service" class="headerlink" title="Step 6: Check the Status of the Service"></a>Step 6: Check the Status of the Service</h3><p><code>sudo systemctl status my_python_app</code></p>
<p>If running successfully, you should see output like this:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">● my_python_app.service - My Python Application</span><br><span class="line">   Loaded: loaded (/etc/systemd/system/my_python_app.service; enabled)</span><br><span class="line">   Active: active (running) since ...</span><br></pre></td></tr></table></figure>

<h3 id="Step-7-Stop-or-Restart-or-Disable-the-Service"><a href="#Step-7-Stop-or-Restart-or-Disable-the-Service" class="headerlink" title="Step 7: Stop or Restart or Disable the Service"></a>Step 7: Stop or Restart or Disable the Service</h3><p><code>sudo systemctl stop my_python_app</code> </br><br><code>sudo systemctl restart my_python_app</code> </br><br><code>sudo systemctl disable my_python_app</code> </br></p>
<h3 id="Step-8-View-Logs-for-Debugging"><a href="#Step-8-View-Logs-for-Debugging" class="headerlink" title="Step 8: View Logs for Debugging"></a>Step 8: View Logs for Debugging</h3><p><code>journalctl -u my_python_app -f</code></p>
</article><div id="paginator"></div></div></div><div id="bottom-outer"><div id="bottom-inner"><hr><div><div><a>2025@ Doo</a><a href="/atom.xml"><img src="/assets/rss.png"></a></div><div id="hexo"><a target="_blank" rel="noopener" href="https://github.com/dubydu">GitHub</a><a>&nbsp &nbsp</a><a target="_blank" rel="noopener" href="https://dubydu.medium.com">Medium</a></div></div></div></div></div></body><script src="/js/oasis.js"></script></html>