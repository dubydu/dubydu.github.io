<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><title>ip-rotator │ Doo Bui</title><link rel="stylesheet" href="/css/oasis.css"><meta property="og:title" content="ip-rotator │ Doo Bui"><meta property="og:description" content="Description of the page"><meta property="og:url" content="https://dubydu.github.io/ip-rotator/"><meta property="og:type" content="article"><meta property="og:site_name" content="Doo Bui"><meta property="og:image:width" content="1920"><meta property="og:image:height" content="1080"><meta name="generator" content="Hexo 7.0.0"><link rel="alternate" href="/atom.xml" title="Doo Bui" type="application/atom+xml">
</head><body><div id="content"><h1 id="title">ip-rotator</h1><div id="menu-outer"><nav id="menu-inner"><a id="menu-back" href="/">Back</a><time datetime="2025-07-17T15:25:51.000Z">2025-07-17</time></nav></div><div id="content-outer"><div id="content-inner"><article id="post"><p>One of the toughest hurdles in web scraping is getting blocked by rate-limiters, but there are ways around it. You can tweak headers, swap out your User-Agent string or even downgrade the protocol. Another approach that’s worked flawlessly for me is setting up an IP rotator.</p>
<p>The core idea is simple: periodically switch the IP address your scraper uses. Here’s what you’ll need to get started:<br>A VPN provider (I recommend <a target="_blank" rel="noopener" href="https://nordvpn.com/">NordVPN</a>) and <a target="_blank" rel="noopener" href="https://tunnelblick.net/downloads.html">Tunnelblick</a> (or any OpenVPN-compatible client)</p>
<p><strong>1. Provision multiple IP configurations</strong></p>
<p>Create a handful of VPN configuration files, each one tied to a different exit-node (i.e. IP address). For NordVPN you can download .ovpn files for various locations from their dashboard.</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://support.nordvpn.com/hc/en-us/articles/19924903986961-Manual-connection-setup-with-Tunnelblick-on-macOS">Comprehensive Guide</a></p>
</blockquote>
<p><strong>2. Automate IP rotation</strong></p>
<ul>
<li>List VPN Configurations from Tunnelblick<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">tell application &quot;Tunnelblick&quot;</span><br><span class="line">    set vpnList to name of configurations</span><br><span class="line">end tell</span><br><span class="line">return vpnList</span><br></pre></td></tr></table></figure></li>
</ul>
<p><em>vpn-list.scpt</em></p>
<ul>
<li>Usage</li>
</ul>
<p><code>osascript /path/to/your/vpn-list.scpt</code></p>
<blockquote>
<p><code>osascript</code> (Apple Script command)</p>
</blockquote>
<ul>
<li>Auto-Switch VPN Every 5 Minutes<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">property vpnList : &#123;&quot;_.nordvpn.com.tcp&quot;, &quot;_.nordvpn.com.tcp&quot;&#125;</span><br><span class="line">property currentIndex : 1</span><br><span class="line"></span><br><span class="line">on run</span><br><span class="line">    repeat</span><br><span class="line">        set vpnName to item currentIndex of vpnList</span><br><span class="line"></span><br><span class="line">        tell application &quot;Tunnelblick&quot;</span><br><span class="line">            disconnect all</span><br><span class="line">            delay 5 -- short pause to allow disconnect</span><br><span class="line">            connect vpnName</span><br><span class="line">        end tell</span><br><span class="line"></span><br><span class="line">        display notification &quot;Switched VPN to &quot; &amp; vpnName with title &quot;VPN Auto Switch&quot;</span><br><span class="line"></span><br><span class="line">        -- Move to next VPN in the list</span><br><span class="line">        if currentIndex = (count of vpnList) then</span><br><span class="line">            set currentIndex to 1</span><br><span class="line">        else</span><br><span class="line">            set currentIndex to currentIndex + 1</span><br><span class="line">        end if</span><br><span class="line"></span><br><span class="line">        delay 300 -- wait 5 minutes (300 seconds)</span><br><span class="line">    end repeat</span><br><span class="line">end run</span><br></pre></td></tr></table></figure></li>
</ul>
<p><em>ip-rotator.scpt</em></p>
<p><em>property vpnList : {“<em>.nordvpn.com.tcp”, “</em>.nordvpn.com.tcp”} // vpnList from the above script.</em></p>
<ul>
<li>The comprehensive script<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">property vpnList : &#123;&quot;_.nordvpn.com.tcp&quot;, &quot;_.nordvpn.com.tcp&quot;&#125;</span><br><span class="line">property currentIndex : 1</span><br><span class="line">property logFilePath : ((path to desktop folder as text) &amp; &quot;VPN_Switch_Log.txt&quot;)</span><br><span class="line"></span><br><span class="line">on run</span><br><span class="line">    my writeLog(&quot;VPN Auto Switcher Started&quot;)</span><br><span class="line">    </span><br><span class="line">    repeat</span><br><span class="line">        set vpnName to item currentIndex of vpnList</span><br><span class="line">        </span><br><span class="line">        tell application &quot;Tunnelblick&quot;</span><br><span class="line">            disconnect all</span><br><span class="line">            delay 5 -- wait for disconnection</span><br><span class="line">            connect vpnName</span><br><span class="line">        end tell</span><br><span class="line"></span><br><span class="line">        set logMessage to &quot;Switched VPN to &quot; &amp; vpnName</span><br><span class="line">        display notification logMessage with title &quot;VPN Auto Switch&quot;</span><br><span class="line">        my writeLog(logMessage)</span><br><span class="line">        log logMessage -- show in Script Editor log pane</span><br><span class="line"></span><br><span class="line">        -- Advance to next VPN</span><br><span class="line">        if currentIndex = (count of vpnList) then</span><br><span class="line">            set currentIndex to 1</span><br><span class="line">        else</span><br><span class="line">            set currentIndex to currentIndex + 1</span><br><span class="line">        end if</span><br><span class="line"></span><br><span class="line">        delay 300 -- wait 5 minutes</span><br><span class="line">    end repeat</span><br><span class="line">end run</span><br><span class="line"></span><br><span class="line">-- Write log to file</span><br><span class="line">on writeLog(msg)</span><br><span class="line">    set timeStamp to do shell script &quot;date &#x27;+%Y-%m-%d %H:%M:%S&#x27;&quot;</span><br><span class="line">    set fullMsg to &quot;[&quot; &amp; timeStamp &amp; &quot;] &quot; &amp; msg &amp; linefeed</span><br><span class="line">    try</span><br><span class="line">        set fileRef to open for access file logFilePath with write permission</span><br><span class="line">        write fullMsg to fileRef starting at eof</span><br><span class="line">        close access fileRef</span><br><span class="line">    on error</span><br><span class="line">        try</span><br><span class="line">            close access file logFilePath</span><br><span class="line">        end try</span><br><span class="line">    end try</span><br><span class="line">end writeLog</span><br></pre></td></tr></table></figure></li>
</ul>
</article><div id="paginator"></div></div></div><div id="bottom-outer"><div id="bottom-inner"><hr><div><div><a>2025@ Doo</a><a href="/atom.xml"><img src="/assets/rss.png"></a></div><div id="hexo"><a target="_blank" rel="noopener" href="https://github.com/dubydu">GitHub</a><a>&nbsp &nbsp</a><a target="_blank" rel="noopener" href="https://dubydu.medium.com">Medium</a></div></div></div></div></div></body><script src="/js/oasis.js"></script></html>